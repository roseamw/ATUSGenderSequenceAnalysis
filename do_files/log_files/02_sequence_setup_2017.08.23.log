-------------------------------------------------------------------------------
      name:  <unnamed>
       log:  /pkg/time-use/GitHub/ATUSGenderSequenceAnalysis/do_files/log_files
> /02_sequence_setup_2017.08.23.log
  log type:  text
 opened on:  23 Aug 2017, 10:12:32

. use ../data/generated_data_files/extract.dta;

. /*1. here we're going to group activities together in local macros that we ca
> n use later
> 
> Groups are:
> 
> Paid Work & Education
> Household Work (Housework, Shopping/Services)
> Care Work (Child Care, Elder Care)
> Self Care (sleep, eating, grooming)
> */
> 
> /*Paid Work & Education -- and related travel*/
> local workedu_codes (activity>=050100 & activity<060000) | (activity>=060100 
> & activity<070000) | activity==160103 | (activity>=180500 & activity<180600) 
> | (activity>=180600 & activity<180700);

.  local workedu_label "Paid Work & Education";

. local hwork_codes (activity>=020100 & activity<030000) | (activity>=080200 & 
> activity<080300) | (activity>=080700 & activity<080800) | (activity>=090100 &
>  activity<100000) | inlist(activity,70101,180701,180904,180807,180903,080699,
> 160106) ;

.  local hwork_label "Household work";

. /*2. now flag activities as belonging to one of each group of activities*/
> 
> foreach x in workedu hwork {;
  2.         gen `x'=0;
  3.                 replace `x'=1 if ``x'_codes';
  4.                 label var `x' "``x'_label'";
  5.                         egen `x'sum=total(duration) if `x'==1, by(caseid);
  6.                 replace `x'sum=0 if `x'==.;
  7.         };
(16,688 real changes made)
(190525 missing values generated)
(0 real changes made)
(37,112 real changes made)
(170101 missing values generated)
(0 real changes made)

. /*3. check to make sure that the sum of all activities is 1440*/
> 
> /*1. thinking some sort of assert statement here with a message that gets dis
> played if the assert succeeds or fails
> 2. we can also build in a check to make sure that the sum of detailed hwork c
> ategories are the equivalent of the full hwork category
> */
> 
> log close;
      name:  <unnamed>
       log:  /pkg/time-use/GitHub/ATUSGenderSequenceAnalysis/do_files/log_files
> /02_sequence_setup_2017.08.23.log
  log type:  text
 closed on:  23 Aug 2017, 10:12:34
-------------------------------------------------------------------------------
